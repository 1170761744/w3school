<!doctype html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>Web Worker</title>
 </head>
 <body>
  <p>计数:<output id="result"></output></p>
  <button onclick="startWorker()">开始工作</button>
  <button onclick="stopWorker()">停止工作</button>
  <br/>

  <script type="text/javascript">
    var w;
	function startWorker(){
		if(typeof(Worker)!=="undefined"){
			if(typeof(w)=="undefined"){
			w=new Worker("http://www.w3school.com.cn/example/html5/demo_workers.js");
			}
		w.onmessage = function (event) {
			document.getElementById("result").innerHTML=event.data;
			};
		}else{
			document.getElementById("result").innerHTML="Sorry, your browser does not support Web Workers...";
		}
	}

	function stopWorker(){ 
		w.terminate();
	}
  </script>
 </body>
</html>
